<% if @user.errors.any? %>
  <div class="panel panel-danger" id="error_explanation">
    <div class="panel-heading"><%= pluralize(@user.errors.count, 'error') %> prohibited this user from being saved:</div>

      <% @user.errors.full_messages.each do |msg| %>
        <div class="panel-body"><%= msg %></div>
      <% end %>
  </div>
<% end %>

<%= form_for(@user, :html => {:role => 'form', :class => 'form-horizontal'}) do |f| %>
  <h4><%= @title %><button type="submit" class="btn btn-default pull-right"><%= @btn_text %></button></h4>
  <hr/>
  <div class="form-group">
    <%= f.label t('users.new.email'), :class => 'col-sm-2 control-label' %>
    <div class="col-sm-10">
      <%= f.text_field :email, :type => 'email', :class => 'form-control' %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label t('users.new.fname'), :class => 'col-sm-2 control-label' %>
    <div class="col-sm-10">
      <%= f.text_field :fname, :class => 'form-control' %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label t('users.new.lname'), :class => 'col-sm-2 control-label' %>
    <div class="col-sm-10">
      <%= f.text_field :lname, :class => 'form-control' %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label t('users.new.dob'), :class => 'col-sm-2 control-label' %>
    <div class="col-sm-10">
      <%= f.text_field :dob, :class => 'form-control', :id => 'dob_dp' %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label t('users.new.gender'), :class => 'col-sm-2 control-label' %>
    <div class="col-sm-10">
      <div class="radio-inline">
        <%= f.text_field :gender, :type => 'radio', :value => 'M', :checked => @user ? @user.gender.eql?('M') : false %>
        <%= t('users.new.gender_male') %>
      </div>
      <div class="radio-inline">
        <%= f.text_field :gender, :type => 'radio', :value => 'F', :checked => @user ? @user.gender.eql?('F') : false %>
        <%= t('users.new.gender_female') %>
      </div>
    </div>
  </div>
  <div class="form-group">
    <%= f.label t('users.new.pwd'), :class => 'col-sm-2 control-label' %>
    <div class="col-sm-10">
      <%= f.text_field :password, :type => 'password', :class => 'form-control' %>
    </div>
  </div>
  <div class="form-group">
    <%= f.label t('users.new.pwd2'), :class => 'col-sm-2 control-label' %>
    <div class="col-sm-10">
      <%= f.text_field :password_confirmation, :type => 'password', :class => 'form-control' %>
    </div>
  </div>
<% end %>

<script type="text/javascript">
    <%= render :partial => 'users.js' %>
</script>
